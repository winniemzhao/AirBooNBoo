<div class="wrapper">
  <h1>My ghosts</h1>
  <div class="container-my-ghosts">
    <% @my_ghosts.each do |ghost| %>
      <div class="card-ghost">
        <%= link_to ghost_path(ghost) do %>
          <div class="card-ghost-photo">
            <% if ghost.photo.key? %>
              <%= cl_image_tag ghost.photo.key, :alt=>"ghost profile picture", :crop => :fill %>
            <% else %>
              <%= image_tag "ghost_default.jpg", :alt=>"default ghost profile", :crop => :fill %>
            <% end %>
          </div>
          <div class="card-ghost-infos">
            <h4><%= ghost.name %></h4>
            <p class="card-ghost-description"><%= ghost.description %></p>
            <p class="card-ghost-pricing"><span><%= number_to_currency(ghost.daily_rate) %></span> / night</p>

            <%= link_to edit_ghost_path(ghost) do %>
            <span class="edit-icon">
              <i class="fas fa-edit" style="margin-right: 16px;"></i>
            </span>
            <% end %>

            <%= link_to ghost_path(ghost), data: { turbo_method: :delete, turbo_confirm: "Are you sure you want to delete #{ghost.name.capitalize}?" } do %>
            <span class="delete-icon">
              <i class="fa-solid fa-trash" style="margin-right: 16px;"></i>
            </span>
            <% end %>

            <p class="card-ghost-active">
              <% if ghost.is_active %>
                <%= "Active"  %>
              <% else %>
                <%= "Inactive" %>
              <% end %>
            </p>
            <p class="card-ghost-action"><i class="fa-solid fa-ghost"></i> <%= ghost.spook_action %></p>
          </div>
        <% end %>
      </div>
    <% end %>
  </div>
</div>
